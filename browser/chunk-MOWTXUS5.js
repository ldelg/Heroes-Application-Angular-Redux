import{k as E}from"./chunk-6YYST75S.js";import{b as D,d as g,e as R,f as T,h as k,i as q,j as A,k as G,m as z,n as L,o as F,q as B,r as $}from"./chunk-QBA4EBH2.js";import"./chunk-R7XRIXHC.js";import{Aa as m,Ab as j,Ba as u,Cb as V,Fa as N,Ia as f,K as M,L as b,N as x,O as _,Sa as O,T as w,Ta as s,Ua as h,Va as I,fa as y,ga as r,ha as c,lb as P,pb as S,sa as H,ua as l,yb as U,za as a}from"./chunk-ZH35IIWB.js";var J={main:[{label:"Name",placeholder:"Hero Name",controlName:"name"},{label:"Power",placeholder:"Hero Power",controlName:"power"},{label:"Universe",placeholder:"Hero Universe",controlName:"universe"}],description:{label:"Description (Optional)",placeholder:"Describe the hero",controlName:"description"}};function W(n,i){if(n&1&&(a(0,"div",13)(1,"mat-form-field",14)(2,"mat-label"),s(3),m(),u(4,"input",12),m()()),n&2){let v=i.$implicit;r(3),h(v.label),r(),l("formControlName",v.controlName)("placeholder",v.placeholder)}}var K=(()=>{let i=class i{constructor(t,o,e,d){this.fb=t,this.route=o,this.router=e,this.heroesFacade=d,this.isEditMode=!1,this.uploadedImageUrl="https://cliparts.co/cliparts/Aib/raq/AibraqG8T.jpg",this.FormFields=J,this.currentHero={name:"",power:"",universe:"",image:"",description:""}}ngOnInit(){let t=this.route.snapshot.paramMap.get("name");t?(this.isEditMode=!0,this.currentHero=this.heroesFacade.getSelectedHero(t),this.initializeForm(this.currentHero)):this.initializeForm()}initializeForm(t){this.heroForm=this.fb.group({name:[t?.name||"",g.required],power:[t?.power||"",g.required],universe:[t?.universe||"",g.required],image:[t?.image||this.uploadedImageUrl],description:[t?.description||""]})}onFileChanged(t){let o=new FileReader,e=t.target;if(e.files&&e.files.length>0){let d=e.files[0];o.onload=()=>{let p=o.result;this.heroForm.patchValue({image:p}),this.uploadedImageUrl=p},o.readAsDataURL(d)}}saveHero(){if(this.heroForm.valid){let t=this.heroForm.value;this.isEditMode?this.heroesFacade.editHero(this.currentHero.name,t):this.heroesFacade.addNewHero(t),this.router.navigate(["/heroes"])}}};i.\u0275fac=function(o){return new(o||i)(c(G),c(U),c(j),c(E))},i.\u0275cmp=M({type:i,selectors:[["hero-form"]],decls:19,vars:9,consts:[[1,"container"],[1,"sub-container"],[1,"image-preview"],["alt","Hero image",3,"src"],["type","file",3,"hidden","change"],["fileInput",""],["mat-stroked-button","",3,"click"],[3,"formGroup","ngSubmit"],[1,"hero-form"],["class","form-section",4,"ngFor","ngForOf"],["type","submit","mat-raised-button","","color","primary"],["appearance","fill",1,"d-flex","description"],["matInput","",3,"formControlName","placeholder"],[1,"form-section"],["appearance","fill"]],template:function(o,e){if(o&1){let d=N();a(0,"div",0)(1,"h2"),s(2),m(),a(3,"div",1)(4,"div",2),u(5,"img",3),a(6,"input",4,5),f("change",function(C){return e.onFileChanged(C)}),m(),a(8,"button",6),f("click",function(){x(d);let C=O(7);return _(C.click())}),s(9," Upload Image "),m()(),a(10,"form",7),f("ngSubmit",function(){return e.saveHero()}),a(11,"div",8),H(12,W,5,3,"div",9),a(13,"button",10),s(14),m()(),a(15,"mat-form-field",11)(16,"mat-label"),s(17),m(),u(18,"input",12),m()()()()}o&2&&(r(2),h(e.isEditMode?"Edit Hero":"Create New Hero"),r(3),l("src",e.isEditMode?e.currentHero==null?null:e.currentHero.image:e.uploadedImageUrl,y),r(),l("hidden",!0),r(4),l("formGroup",e.heroForm),r(2),l("ngForOf",e.FormFields.main),r(2),I(" ",e.isEditMode?"Save Changes":"Create Hero"," "),r(3),h(e.FormFields.description.label),r(),l("formControlName",e.FormFields.description.controlName)("placeholder",e.FormFields.description.placeholder))},dependencies:[P,k,D,R,T,q,A,L,F,B],styles:[".container[_ngcontent-%COMP%]{padding:20px 60px;overflow-y:scroll;height:91vh;margin:0}@media (min-width: 600px){.container[_ngcontent-%COMP%]{height:auto;overflow-y:auto;padding:20px 0 20px 80px}}h2[_ngcontent-%COMP%]{margin-bottom:20px}.sub-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:space-between}@media (min-width: 768px){.sub-container[_ngcontent-%COMP%]{flex-direction:row}}.image-preview[_ngcontent-%COMP%]{display:flex;flex-direction:column}img[_ngcontent-%COMP%]{width:270px;height:300px;border-radius:20px;margin-bottom:20px}.hero-form[_ngcontent-%COMP%], .form-section[_ngcontent-%COMP%]{display:flex;flex-direction:column}form[_ngcontent-%COMP%]{width:100%;margin-top:20px}@media (min-width: 768px){form[_ngcontent-%COMP%]{margin:0 20px 0 0;width:calc(50% - 10px);height:350px}}form[_ngcontent-%COMP%]   .hero-form[_ngcontent-%COMP%]{border:1px solid lightgray;border-radius:10px;padding:20px}.description[_ngcontent-%COMP%]{margin-top:20px}@media (min-width: 600px){.description[_ngcontent-%COMP%]{left:80px;width:calc(100% - 190px);position:absolute}}@media (min-width: 768px){.description[_ngcontent-%COMP%]{margin-top:80px}}"]});let n=i;return n})();var X=[{path:"",component:K}],fe=(()=>{let i=class i{};i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=b({type:i}),i.\u0275inj=w({imports:[S,z,F,$,V.forChild(X)]});let n=i;return n})();export{fe as HeroFormModule};
